<div
  class="big-card"
  [id]="selectedPokemon?.id"
  (click)="$event.stopPropagation()"
  [ngClass]="{ 'is-visible': !bigCardOpen || !selectedPokemon }"
  [style]="{
    background: gradientColor(
      pokemonService.getPokemonTypeColors(
        selectedPokemon.details?.types[0].type.name
      ),
      pokemonService.getPokemonTypeColors(
        selectedPokemon.details?.types[1]?.type.name
      )
    ),
  }"
>
  <div class="big-card-top">
    <span class="pokemon-name">{{ selectedPokemon?.name }}</span>
  </div>
  <div class="pokemon-image">
    <img
      [src]="
        selectedPokemon?.details?.sprites?.other['official-artwork']
          .front_default
      "
      alt="{{ selectedPokemon?.name }}"
    />
  </div>
  <div class="pokemon-info-container">
    <div class="pokemon-info">
      <div class="pokemon-types">
        <span
          class="type"
          [style]="{
            color: pokemonService.getPokemonTypeColors(
              selectedPokemon.details?.types[0].type.name
            ),
          }"
        >
          {{ selectedPokemon?.details?.types[0].type.name }}
        </span>
        <span
          class="type"
          [style]="{
            color: pokemonService.getPokemonTypeColors(
              selectedPokemon.details?.types[1]?.type.name
            ),
          }"
        >
          {{ selectedPokemon?.details?.types[1]?.type.name }}
        </span>
      </div>
      <div class="evolves-from">
        <span>Evolves from:</span>
        @if (selectedPokemon?.species?.evolves_from_species != null) {
          <span>{{
            selectedPokemon?.species?.evolves_from_species?.name
          }}</span>
        }
      </div>
      <div class="height-weight">
        <div class="height">
          <span>{{ selectedPokemon?.details?.height / 10 + " m" }}</span>
        </div>
        <div class="weight">
          <span>{{ selectedPokemon?.details?.weight / 10 + " kg" }}</span>
        </div>
      </div>
    </div>
    <div class="pokemon-stats">
      <canvas #ctx style="width: 100%; height: 100%" width="150" height="150">
        <app-stats-chart
          [ctx]="canvas"
          [selectedPokemon]="selectedPokemon"
        ></app-stats-chart>
      </canvas>
    </div>
  </div>
</div>

<div class="change-pokemon" (click)="$event.stopPropagation()">
  <button (click)="previousPokemon()"><</button>
  <button (click)="nextPokemon()">></button>
</div>
